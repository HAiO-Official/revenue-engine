<p align="center">
  <a href="https://haio.fun" target="_blank">
    <img src="https://r2.assets.haio.fun/haio-logo.png" width="200" alt="HAiO Logo">
  </a>
</p>

<h1 align="center">HAiO - Revenue Engineê³¼ Agent ììœ¨ì„±</h1>

<p align="center">
  <strong>Solana ë¸”ë¡ì²´ì¸ ìƒì—ì„œ AI ìŒì•… ì°½ì‘ê³¼ ìˆ˜ìµí™”ì˜ ë¯¸ë˜ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.</strong>
  <br />
  (Seoulana í•´ì»¤í†¤ ì œì¶œì‘)
</p>

<p align="center">
  <a href="https://haio.fun" target="_blank">ì›¹ì‚¬ì´íŠ¸</a> |
  <a href="https://haio-official.gitbook.io/haio" target="_blank">ë°±ì„œ</a> |
  <a href="https://x.com/HAiO_Official" target="_blank">X (íŠ¸ìœ„í„°)</a> |
  <a href="https://t.me/haio_official" target="_blank">í…”ë ˆê·¸ë¨</a> |
  <a href="https://medium.com/@HAiO_Official" target="_blank">ë¯¸ë””ì—„</a> |
  <a href="LICENSE">ë¼ì´ì„¼ìŠ¤: MIT</a>
</p>

---

**HAiOëŠ” AI `Agent`ê°€ ë‹¨ìˆœíˆ ìŒì•…ì„ ë§Œë“œëŠ” ê²ƒì„ ë„˜ì–´ Solana ìœ„ì— êµ¬ì¶•ëœ íˆ¬ëª…í•˜ê³  Web3 ë„¤ì´í‹°ë¸Œ ê²½ì œì— ììœ¨ì ìœ¼ë¡œ ì°¸ì—¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.** ì´ ì €ì¥ì†ŒëŠ” Solana Seoulana í•´ì»¤í†¤ì„ ìœ„í•´ ê°œë°œëœ í•µì‹¬ **`RevenueEngine`** êµ¬í˜„ê³¼ HAiO `Agent`ì˜ **ììœ¨ ê²½ì œ í™œë™**ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

## ğŸš€ ë¹„ì „: ì§€ì† ê°€ëŠ¥í•˜ê³  ììœ¨ì ì¸ ìŒì•… ìƒíƒœê³„

AI ìŒì•… ìƒì„±ì˜ ë¶€ìƒì€ ë†€ë¼ìš´ ê¸°íšŒì™€ í•¨ê»˜ ìƒˆë¡œìš´ ë„ì „ê³¼ì œë¥¼ ì œì‹œí•©ë‹ˆë‹¤: AI ìš´ì˜ ë¹„ìš©ì„ ì–´ë–»ê²Œ ê´€ë¦¬í• ê¹Œìš”? AIê°€ ì°½ì¶œí•œ ê°€ì¹˜ë¥¼ ì–´ë–»ê²Œ ê³µì •í•˜ê²Œ ë¶„ë°°í• ê¹Œìš”? ì„±ì¥í•˜ê³  ì ì‘í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì„ ì–´ë–»ê²Œ êµ¬ì¶•í• ê¹Œìš”?

HAiOëŠ” ë‹¤ìŒê³¼ ê°™ì€ **Web3 ë„¤ì´í‹°ë¸Œ ì¸í”„ë¼**ë¥¼ êµ¬ì¶•í•˜ì—¬ ì´ëŸ¬í•œ ë„ì „ì— ì •ë©´ìœ¼ë¡œ ëŒ€ì‘í•©ë‹ˆë‹¤:

1. **AI `Agent`ê°€ ììœ¨ì ìœ¼ë¡œ í–‰ë™í•©ë‹ˆë‹¤:** ìš°ë¦¬ì˜ `Agent`ëŠ” ë‹¨ìˆœíˆ ì°½ì‘í•˜ëŠ” ê²ƒì„ ë„˜ì–´, ê²½ì œì— ì°¸ì—¬í•©ë‹ˆë‹¤. ìš´ì˜ ë¹„ìš©(ì´ ë°ëª¨ì—ì„œëŠ” ATH í† í°ì„ í†µí•´ GPU ì‚¬ìš© **ì‹œë®¬ë ˆì´ì…˜**)ì„ ê´€ë¦¬í•˜ê³ , ìì‚°ì„ ìŠ¤ì™‘í•˜ë©°(ì´ ë°ëª¨ì—ì„œëŠ” mock í”„ë¡œê·¸ë¨ ì‚¬ìš©), í† í° ê°€ì¹˜ì— ê¸°ì—¬í•©ë‹ˆë‹¤($HAiO ì†Œê°). ì´ë“¤ì€ ëŠ¥ë™ì ì¸ ê²½ì œ ì°¸ì—¬ìì…ë‹ˆë‹¤.

2. **ê°€ì¹˜ ë¶„ë°°ê°€ íˆ¬ëª…í•˜ê³  ìë™í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤:** Solana ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¡œ êµ¬ì¶•ëœ ì˜¨ì²´ì¸ **`RevenueEngine`**ì€ `Agent`ê°€ ìƒì„±í•œ ëª¨ë“  ìˆœìˆ˜ìµ($HAiO)ì´ ëª…í™•í•˜ê³  ê²€ì¦ ê°€ëŠ¥í•œ ê·œì¹™ì— ë”°ë¼ ìƒíƒœê³„ ì°¸ì—¬ì(`Agent NFT` ìŠ¤í…Œì´ì»¤, DAO, ê°œë°œì)ì—ê²Œ ë¶„ë°°ë˜ë„ë¡ í•©ë‹ˆë‹¤.

3. **ìƒíƒœê³„ëŠ” ì§€ì† ê°€ëŠ¥í•˜ê³  í™•ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤:** í•µì‹¬ `RevenueEngine`ì€ **í—ˆë¸Œ**ë¡œ ì„¤ê³„ë˜ì–´ ë‹¤ì–‘í•œ ë¯¸ë˜ ëª¨ë“ˆ(ë¼ì´ì„¼ì‹±, ë°ì´í„° ë³´ìƒ, Live `Agent` ê¸°ëŠ¥, ì œ3ì `Agent`)ì´ ì›í™œí•˜ê²Œ ì—°ê²°ë  ìˆ˜ ìˆì–´, ëŠì„ì—†ì´ ì§„í™”í•˜ê³  í’ë¶€í•´ì§€ëŠ” í”Œë«í¼ì„ ë§Œë“­ë‹ˆë‹¤.

## ğŸ’¡ ì‘ë™ ë°©ì‹: í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜ (í•´ì»¤í†¤ ë°ëª¨)

ì´ í•´ì»¤í†¤ í”„ë¡œì íŠ¸ëŠ” í•µì‹¬ ê²½ì œ ìˆœí™˜ ê³ ë¦¬ë¥¼ ë³´ì—¬ì£¼ëŠ” ë° ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤:

1. **ìˆ˜ìµ ìœ ì…:** ì™¸ë¶€ ìˆ˜ìµ(USDCë¡œ ì‹œë®¬ë ˆì´ì…˜)ì´ `Agent`ì˜ ì „ìš© `Agent Wallet`ì— ë„ì°©í•©ë‹ˆë‹¤.

2. **`Agent` ììœ¨ì„± (ì˜¤í”„ì²´ì¸ ì›Œì»¤ + ì˜¨ì²´ì¸ ìƒí˜¸ì‘ìš©):**
   * ì˜¤í”„ì²´ì¸ **`Agent`**ê°€ ìì‹ ì˜ `Agent Wallet`ì„ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.
   * **ìš´ì˜ ë¹„ìš© ì‹œë®¬ë ˆì´ì…˜:** `mock_swap_program`ì„ ì‚¬ìš©í•˜ì—¬ ìœ ì…ë˜ëŠ” USDCì˜ ì¼ë¶€ë¥¼ Mock ATHë¡œ ìŠ¤ì™‘í•˜ê³  ì§€ì •ëœ Aethir ì§€ê°‘ìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤(**GPU ë¦¬ì†ŒìŠ¤ ì§€ë¶ˆ ì‹œë®¬ë ˆì´ì…˜**).
   * **ê°€ì¹˜ë¥¼ ì¶•ì í•˜ê³  í‘œì¤€í™”í•©ë‹ˆë‹¤:** *ë‚¨ì€* USDCë¥¼ `mock_swap_program`ì„ ì‚¬ìš©í•˜ì—¬ ë„¤ì´í‹°ë¸Œ `$HAiO` í† í°ìœ¼ë¡œ ìŠ¤ì™‘í•©ë‹ˆë‹¤.
   * **í† í° ì†Œê°:** SPL Token Program ëª…ë ¹ì„ í†µí•´ ìŠ¤ì™‘ëœ `$HAiO`ì˜ ì¼ë¶€ë¥¼ ìë™ìœ¼ë¡œ ì†Œê°í•©ë‹ˆë‹¤.
   * **ìˆœìˆ˜ìµ ì „ì†¡:** ìµœì¢… ìˆœ `$HAiO` ìˆ˜ìµì„ ì˜¨ì²´ì¸ `Revenue Safe`ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.

3. **íˆ¬ëª…í•œ ë¶„ë°° (ì˜¨ì²´ì¸ í”„ë¡œê·¸ë¨):**
   * **`RevenueEngine` Program**ì´ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤.
   * `Revenue Safe`ì˜ `$HAiO` ì”ì•¡ê³¼ `EngineState Account`ì—ì„œ ë¶„ë°° ë¹„ìœ¨(ìŠ¤í…Œì´ì»¤ Î²%, DAO Î³%, ê°œë°œì Î´%)ì„ ì½ìŠµë‹ˆë‹¤.
   * ëª«ì„ ê³„ì‚°í•˜ê³  `EngineState Account` PDAê°€ ì„œëª…í•œ **`$HAiO`ë¥¼ CPIë¥¼ í†µí•´** `Reward Pool PDA`, `DAO Treasury PDA`, `Developer Treasury PDA`ë¡œ **ì „ì†¡**í•©ë‹ˆë‹¤.
   * `EngineState Account`ì—ì„œ ê¸€ë¡œë²Œ ë³´ìƒ ë¹„ìœ¨(`reward_per_token_cumulative`)ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤(Lazy Calculation).

4. **ì‚¬ìš©ì ë³´ìƒ (ì˜¨ì²´ì¸ ìŠ¤í…Œì´í‚¹):**
   * ì‚¬ìš©ìëŠ” **`staking_program`**ì„ ì‚¬ìš©í•˜ì—¬ **`Agent NFT`**ë¥¼ ìŠ¤í…Œì´í‚¹í•©ë‹ˆë‹¤.
   * ì‚¬ìš©ìëŠ” ëˆ„ì ëœ `$HAiO` ë³´ìƒì„ **ì²­êµ¬**í•©ë‹ˆë‹¤. `staking_program`ì€ ë³´ìƒì„ ê³„ì‚°í•˜ê³  `Reward Pool PDA`ì—ì„œ í† í°ì„ ì „ì†¡í•©ë‹ˆë‹¤.

### ê³ ìˆ˜ì¤€ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

![ê³ ìˆ˜ì¤€ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨](images/high-level-arch.png)

*ìˆ˜ìµì€ Agent Walletë¡œ ìœ ì…ë©ë‹ˆë‹¤. ì˜¤í”„ì²´ì¸ AgentëŠ” ì´ë¥¼ ì²˜ë¦¬í•˜ê³ (ë¹„ìš© ì§€ë¶ˆ ì‹œë®¬ë ˆì´ì…˜, ìŠ¤ì™‘, ì†Œê°), ìˆœ $HAiOë¥¼ ì˜¨ì²´ì¸ RevenueEngineìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤. Engineì€ ì˜¨ì²´ì¸ ê·œì¹™ì— ë”°ë¼ ì°¸ì—¬ì(ìŠ¤í…Œì´ì»¤, DAO, ê°œë°œì)ì—ê²Œ íˆ¬ëª…í•˜ê²Œ ìê¸ˆì„ ë¶„ë°°í•˜ë©°, ì°¸ì—¬ìë“¤ì€ ìŠ¤í…Œì´í‚¹ì„ í†µí•´ ë‹¤ì‹œ ì°¸ì—¬í•©ë‹ˆë‹¤.*

## ğŸ› ï¸ ì‚¬ìš©ëœ ê¸°ìˆ  ìŠ¤íƒ

* **Blockchain:** Solana (Devnet)
* **Smart Contracts:** Rust, Anchor Framework (v0.31.0)
* **Off-Chain `Agent`:** Node.js, TypeScript, @solana/web3.js, @solana/spl-token, @coral-xyz/anchor
* **Tokens:** SPL Token Standard ($HAiO, USDC, ATH mocks, Agent NFT)
* **Frontend Demo:** React, TypeScript, Solana Wallet Adapter

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡° (ì£¼ìš” êµ¬ì„± ìš”ì†Œ)

```
HAiO-Seoulana/
â”œâ”€â”€ programs/                # Solana ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ (Anchor)
â”‚   â”œâ”€â”€ revenue_engine/      # í•µì‹¬ ë¶„ë°° ë¡œì§ & EngineState Account
â”‚   â”œâ”€â”€ staking_program/     # NFT ìŠ¤í…Œì´í‚¹ & ë³´ìƒ ì²­êµ¬ ë¡œì§ (NftStakeState)
â”‚   â””â”€â”€ mock_swap_program/   # ë°ëª¨ ìŠ¤ì™‘ ê¸°ëŠ¥
â”œâ”€â”€ app/                     # ì˜¤í”„ì²´ì¸ Agent êµ¬í˜„
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ agent.ts         # ì£¼ìš” ììœ¨ ë¡œì§
â”‚       â”œâ”€â”€ server.ts        # ë°ëª¨ìš© API ì„œë²„
â”‚       â””â”€â”€ db.ts            # ë¡œì»¬ ë¡œê¹…/ìƒíƒœ DB
â”œâ”€â”€ scripts/                 # ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ prepare-keypairs.sh  # keypair ìƒì„±
â”‚   â””â”€â”€ init.ts              # ì˜¨ì²´ì¸ ìƒíƒœ & .env íŒŒì¼ ì´ˆê¸°í™”
â”œâ”€â”€ keypairs/                # ìƒì„±ëœ keypair (ì•ˆì „í•˜ê²Œ ë³´ê´€!)
â”œâ”€â”€ frontend/                # ë°ëª¨ìš© React í”„ë¡ íŠ¸ì—”ë“œ
â””â”€â”€ ...                      # ì„¤ì • íŒŒì¼
```

## âš™ï¸ ì„¤ì • & í…ŒìŠ¤íŠ¸

### ì „ì œ ì¡°ê±´
- Node.js (v20+)
- Rustì™€ Cargo
- Solana CLI ë„êµ¬
- Anchor Framework

### ì‹œì‘í•˜ê¸° (FOR LOCAL / Using solana-test-validator)
1. **ë³µì œ & ì„¤ì¹˜:**
   ```
   git clone https://github.com/cto-haio/HAiO-Seoulana.git
   cd HAiO-Seoulana
   yarn install
   ```

2. **Keypair ì¤€ë¹„:**
   ```
   bash scripts/prepare-keypairs.sh
   ```

3. **ë¹Œë“œ, ë°°í¬, ì´ˆê¸°í™”:**
   - ë¡œì»¬ ê²€ì¦ì ì‹œì‘: `solana-test-validator`
   - Solana CLI íƒ€ê²Ÿ ë„¤íŠ¸ì›Œí¬ ì„¤ì •: `solana config set --url localhost`
   - Anchor provider í´ëŸ¬ìŠ¤í„° ì„¤ì •: Anchor.toml -> [provider] -> cluster = "localnet" ìˆ˜ì •
   - `solana config set -k keypairs/id.json`
   - `solana airdrop 100`
   - `yarn run build`

4. **Agent API ì‹œì‘:**
   ```
   cd app
   yarn install
   yarn dev:server
   ```

5. **í”„ë¡ íŠ¸ì—”ë“œ ì‹œì‘:**
   ```
   cd frontend
   # .envì— REACT_APP_RPC_URLì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
   yarn install
   yarn start
   ```

### í…ŒìŠ¤íŠ¸
- í”„ë¡ íŠ¸ì—”ë“œ ë°ëª¨ ì‚¬ìš© (http://localhost:3000)

## ğŸ“ êµ¬í˜„ ì°¸ê³ ì‚¬í•­

### ë°ëª¨ vs í”„ë¡œë•ì…˜ ì•„í‚¤í…ì²˜

í•´ì»¤í†¤ ë°ëª¨ë¥¼ ìœ„í•´ ì¼ë¶€ ì¸¡ë©´ì„ ë‹¨ìˆœí™”í–ˆìŠµë‹ˆë‹¤:

- **Agent ì‹¤í–‰ ëª¨ë¸:**
  - ë°ëª¨: API í˜¸ì¶œì„ í†µí•´ íŠ¸ë¦¬ê±°ë¨.
  - í”„ë¡œë•ì…˜: ì—°ì†ì ì¸ ë°ëª¬ í”„ë¡œì„¸ìŠ¤.

- **mock_swap_program:**
  - ë°ëª¨: ë‹¨ìˆœí™”ëœ ëª©ì—… ìŠ¤ì™‘.
  - í”„ë¡œë•ì…˜: ì‹¤ì œ DEXì™€ í†µí•© (Jupiter, Orca, Raydium).

- **Treasury:**
  - ë°ëª¨: ë¡œì»¬ keypair ê¶Œí•œì„ ê°€ì§„ ë‹¨ìˆœ SPL Token ê³„ì •.
  - í”„ë¡œë•ì…˜: ë‹¤ì¤‘ ì„œëª… ë˜ëŠ” ê±°ë²„ë„ŒìŠ¤ ì œì–´ treasury.

- **ë„¤íŠ¸ì›Œí¬:**
  - ë°ëª¨: ë¡œì»¬ ê²€ì¦ì ë˜ëŠ” Devnetì—ì„œ ì‘ë™.
  - í”„ë¡œë•ì…˜: í–¥ìƒëœ ë³´ì•ˆìœ¼ë¡œ Mainnet ë°°í¬.

- **í‚¤ ê´€ë¦¬:**
  - ë°ëª¨: ë¡œì»¬ .json íŒŒì¼.
  - í”„ë¡œë•ì…˜: ì•ˆì „í•œ í‚¤ ê´€ë¦¬ ì†”ë£¨ì…˜ (Vaults, HSM, MPC).

## ğŸ”® ë¯¸ë˜ ë¡œë“œë§µ & ë¹„ì „

1. **Mainnet ì¶œì‹œ ì¤€ë¹„:** ë³´ì•ˆ ê°ì‚¬(ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ & Agent ë¡œì§), í¬ê´„ì ì¸ Testnet í…ŒìŠ¤íŠ¸, ê°œì„ ëœ í‚¤ ê´€ë¦¬ ì „ëµ.

2. **ì‹¤ì œ DEX í†µí•©:** ìµœì ì˜ ìŠ¤ì™‘ì„ ìœ„í•´ mock_swap_programì„ ê°•ë ¥í•œ DEX í†µí•©(ì˜ˆ: Jupiter API)ìœ¼ë¡œ ëŒ€ì²´.

3. **ì ì§„ì  íƒˆì¤‘ì•™í™”:** ë¶„ë°° ë¹„ìœ¨ ì—…ë°ì´íŠ¸ ë° EngineState Account ê¶Œí•œì„ DAOë¡œ ì´ì „í•˜ê¸° ìœ„í•œ ì˜¨ì²´ì¸ ê±°ë²„ë„ŒìŠ¤(ì˜ˆ: Realms) êµ¬í˜„.

4. **í™•ì¥ ëª¨ë“ˆ í™•ëŒ€:** ëª¨ë“ˆì‹ ë¼ì´ì„¼ì‹±, ADI/RSI ë³´ìƒ, Live Agent ê¸°ëŠ¥, 3rd Party Agent ì§€ì›ì„ ìˆœì°¨ì ìœ¼ë¡œ êµ¬í˜„ ë° í†µí•©.

5. **SDK & ê°œë°œì í”„ë¡œê·¸ë¨:** ì œ3ì ê°œë°œì„ ìš©ì´í•˜ê²Œ í•˜ê¸° ìœ„í•œ SDK ë° í‘œì¤€í™”ëœ Agent í…œí”Œë¦¿ ì¶œì‹œ.

## ğŸ™ ê°ì‚¬ì˜ ë§

- ê°•ë ¥í•œ ë¸”ë¡ì²´ì¸ ë° ê°œë°œ í”„ë ˆì„ì›Œí¬ë¥¼ ì œê³µí•œ Solana & Anchor ì»¤ë®¤ë‹ˆí‹°.
- ì´ í”„ë¡œì íŠ¸ë¥¼ ì„ ë³´ì¼ ê¸°íšŒë¥¼ ì¤€ Solana Seoulana í•´ì»¤í†¤.

## ğŸ“„ ë¼ì´ì„¼ìŠ¤

MIT ë¼ì´ì„¼ìŠ¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ë¶€ë¡: ê¸°ìˆ  ì•„í‚¤í…ì²˜ ì„¸ë¶€ì‚¬í•­

### A. í•µì‹¬ ê°œë…

#### Agent Wallet vs Revenue Safe:
- **Agent Wallet:** ì˜¤í”„ì²´ì¸ Agentì˜ ìš´ì˜ ê³„ì •ìœ¼ë¡œ, ê°œì¸ í‚¤ë¥¼ ë³´ìœ í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ ì´ˆê¸° ìˆ˜ìµ ìŠ¤íŠ¸ë¦¼(USDC ë“±)ì„ ë°›ì•„ ìš´ì˜ ë¹„ìš© ì§€ë¶ˆ(ATH ì „ì†¡ì„ í†µí•œ ì‹œë®¬ë ˆì´ì…˜), mock_swap_programì„ í†µí•œ ìì‚° ìŠ¤ì™‘, ì†Œê° ì‹¤í–‰ê³¼ ê°™ì€ ìœ ì—°í•œ ì‘ì—…ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ëª©í‘œëŠ” ìš´ì˜ íš¨ìœ¨ì„±ê³¼ ììœ¨ì„±ì…ë‹ˆë‹¤. ì²˜ë¦¬ í›„ì—ëŠ” ìˆœ $HAiO ìˆ˜ìµë§Œ Revenue Safeë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
- **Revenue Safe:** ì˜¨ì²´ì¸ SPL í† í° ê³„ì •ìœ¼ë¡œ, ë¶„ë°° ì‹œìŠ¤í…œìœ¼ë¡œì˜ ìˆœ $HAiO ìˆ˜ìµì˜ ë‹¨ì¼í•˜ê³  ê²€ì¦ ê°€ëŠ¥í•œ ì§„ì…ì ì…ë‹ˆë‹¤. ê·¸ ì”ì•¡ì´ RevenueEngineì„ íŠ¸ë¦¬ê±°í•©ë‹ˆë‹¤. ê¶Œí•œì€ EngineState Account PDAë¡œ, RevenueEngine í”„ë¡œê·¸ë¨ë§Œì´ ìê¸ˆ ìœ ì¶œì„ ì œì–´í•˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.

#### RevenueEngine Program:
- HAiO ê²½ì œ ì •ì±…ì„ ìœ„í•œ ì˜¨ì²´ì¸ ê·œì¹™ì§‘ì…ë‹ˆë‹¤.
- ê¸€ë¡œë²Œ EngineState Account(ë¹„ìœ¨ Î², Î³, Î´, ì´ ìŠ¤í…Œì´í‚¹ ì–‘, ëˆ„ì  ë³´ìƒ ë¹„ìœ¨ ì €ì¥)ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- distribute_revenue í•¨ìˆ˜ëŠ” Revenue Safeë¥¼ ì½ê³ , ëª«ì„ ê³„ì‚°í•˜ê³ , EngineState Account PDAê°€ ì„œëª…í•œ CPIë¥¼ í†µí•´ Reward Pool PDA, DAO Treasury PDA, Developer Treasury PDAë¡œ ì›ìì  SPL Token ì „ì†¡ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
- staking_programì´ ì´ ìŠ¤í…Œì´í‚¹ ì–‘ì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆëŠ” CPI ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

#### staking_program & Lazy Calculation:
- NFT ìŠ¤í…Œì´í‚¹ ë° ë³´ìƒ ì²­êµ¬ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- í™•ì¥ì„±ì„ ìœ„í•´ Lazy Calculationì„ ì‚¬ìš©í•©ë‹ˆë‹¤: RevenueEngineì€ ê¸€ë¡œë²Œ ë¹„ìœ¨ë§Œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. staking_programì€ ì‚¬ìš©ìê°€ ì²­êµ¬í•˜ê±°ë‚˜ ì–¸ìŠ¤í…Œì´í¬í•  ë•Œë§Œ ê°œë³„ ë³´ìƒì„ ê³„ì‚°í•˜ë©°, í˜„ì¬ ê¸€ë¡œë²Œ ë¹„ìœ¨ê³¼ ì‚¬ìš©ìì˜ ë§ˆì§€ë§‰ ê¸°ë¡ ë¹„ìœ¨(NftStakeState Accountì˜ reward_debt)ì„ ë¹„êµí•©ë‹ˆë‹¤. ì´ëŠ” ë¡œë“œë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ë¶„ì‚°ì‹œí‚µë‹ˆë‹¤. í”„ë¡œê·¸ë¨ì€ ìì²´ íŒŒìƒ authority PDAë¥¼ ì‚¬ìš©í•˜ì—¬ Reward Pool PDAì—ì„œ ë³´ìƒ ì „ì†¡ì— ì„œëª…í•©ë‹ˆë‹¤.

#### ì˜¤í”„ì²´ì¸ Agent & í˜„ì‹¤ì  ì ‘ê·¼:
- ì˜¨ì²´ì¸ íˆ¬ëª…ì„±ì„ ëª©í‘œë¡œ í•˜ì§€ë§Œ, ë³µì¡í•˜ê³  ë™ì ì¸ ì‘ì—…(ë¹„ìš© ì§€ë¶ˆ, DEX ìƒí˜¸ì‘ìš© ë“±)ì€ ê°œë°œ ì†ë„ì™€ ìš´ì˜ í˜„ì‹¤ì„ ìœ„í•´ ìœ ì—°í•œ ì˜¤í”„ì²´ì¸ Agentê°€ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- ì•„í‚¤í…ì²˜ëŠ” ê· í˜•ì„ ë§ì¶¥ë‹ˆë‹¤: AgentëŠ” ì˜¤í”„ì²´ì¸ì—ì„œ ë³µì¡ì„±ì„ ì²˜ë¦¬í•˜ê³ , ìµœì¢… ìˆœìˆ˜ìµ ì •ì‚° ë° ë¶„ë°°ëŠ” ì—„ê²©í•˜ê³  ê²€ì¦ ê°€ëŠ¥í•œ ì˜¨ì²´ì¸ ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.
- ë¯¸ë˜ ê³„íšì—ëŠ” íˆ¬ëª…ì„± ê°•í™”(ì˜ˆ: ì˜¤í”„ì²´ì¸ ì‘ì—…ì˜ ì˜¨ì²´ì¸ ì¦ëª…)ê°€ í¬í•¨ë©ë‹ˆë‹¤.

### B. ì¤‘ìš”í•œ ì˜¨ì²´ì¸ ê³„ì •

#### EngineState Account (PDA):
- **ëª©ì :** RevenueEngineì„ ìœ„í•œ ê¸€ë¡œë²Œ êµ¬ì„± ë° ì‹¤ì‹œê°„ ê²½ì œ ìƒíƒœ. ë¹„ìœ¨(Î², Î³, Î´), ì£¼ì†Œ(Safe, Pool, Treasury), total_staked_amount, reward_per_token_cumulativeë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
- **Seed:** ["engine_state_v1"]. **Owner:** RevenueEngine Program. **Authority (ì—…ë°ì´íŠ¸ìš©):** ì´ˆê¸°ì—ëŠ” Admin keypair.

#### NftStakeState Account (PDA):
- **ëª©ì :** ê°œë³„ NFT ìŠ¤í…Œì´í‚¹ ì„¸ë¶€ì •ë³´(ì‚¬ìš©ì, ë¯¼íŠ¸, ê¸ˆì•¡, reward_debt, íƒ€ì„ìŠ¤íƒ¬í”„, engine_state_ref)ë¥¼ ì¶”ì í•©ë‹ˆë‹¤.
- **Seed:** ["nft_stake", user_wallet_pubkey, nft_mint_pubkey]. **Owner:** staking_program.

#### Revenue Safe Account (SPL Token Account):
- **ëª©ì :** Agent Walletì—ì„œ ì˜¨ ìˆœ $HAiO ìˆ˜ìµì„ ë¶„ë°° ëŒ€ê¸° ì¤‘ì— ë³´ìœ í•©ë‹ˆë‹¤.
- **Mint:** $HAiO. **Authority:** EngineState Account PDA.

#### Reward Pool PDA Account (SPL Token Account):
- **ëª©ì :** ìŠ¤í…Œì´ì»¤ ë³´ìƒ(Î²%)ì„ ìœ„í•œ $HAiOë¥¼ ë³´ìœ í•©ë‹ˆë‹¤.
- **Mint:** $HAiO. **Authority:** staking_programì˜ Reward Pool Authority PDA (Seed: ["reward_pool_authority_seed"]).

#### DAO Treasury PDA Account (SPL Token Account):
- **ëª©ì :** DAO ìš´ì˜ì„ ìœ„í•œ $HAiOë¥¼ ë³´ìœ í•©ë‹ˆë‹¤(Î³%).
- **Mint:** $HAiO. **Authority:** DAO ë˜ëŠ” ê·¸ ê´€ë¦¬ìë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì „ìš© keypair(revenue-engine-dao-treasury.json)ì— ì˜í•´ ì œì–´ë©ë‹ˆë‹¤. (ë°ëª¨ì—ì„œëŠ” ë¡œì»¬ keypair ì‚¬ìš©; í”„ë¡œë•ì…˜ì—ì„œëŠ” DAO ë‹¤ì¤‘ì„œëª…/í”„ë¡œê·¸ë¨ ì‚¬ìš©).

#### Developer Treasury PDA Account (SPL Token Account):
- **ëª©ì :** ê°œë°œì ì¸ì„¼í‹°ë¸Œë¥¼ ìœ„í•œ $HAiOë¥¼ ë³´ìœ í•©ë‹ˆë‹¤(Î´%).
- **Mint:** $HAiO. **Authority:** ê°œë°œì ì—”í‹°í‹° ë˜ëŠ” í€ë“œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì „ìš© keypair(revenue-engine-developer-treasury.json)ì— ì˜í•´ ì œì–´ë©ë‹ˆë‹¤. (ë°ëª¨ì—ì„œëŠ” ë¡œì»¬ keypair ì‚¬ìš©; í”„ë¡œë•ì…˜ ì„¤ì •ì€ ë‹¤ì–‘).

### C. ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

#### Agent ììœ¨ ì²˜ë¦¬
![alt text](images/agent-autonomous-processing.png)

*ì˜¤í”„ì²´ì¸ Agent Workerê°€ Agent Walletì„ ëª¨ë‹ˆí„°ë§í•˜ê³ , ìœ ì…ë˜ëŠ” USDCë¥¼ ê°ì§€í•˜ì—¬, ëª©ì—… ìŠ¤ì™‘(USDC->ATH, USDC->$HAiO)ì„ ìˆ˜í–‰í•˜ê³ , ì™¸ë¶€ ë¹„ìš©ì„ ì§€ë¶ˆí•˜ê³ (ATH ì „ì†¡), $HAiOë¥¼ ì†Œê°í•˜ê³ , ìˆœ $HAiOë¥¼ ì˜¨ì²´ì¸ Revenue Safeë¡œ ì „ì†¡í•˜ëŠ” ê³¼ì •ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.*

#### ì˜¨ì²´ì¸ ë¶„ë°° & ì²­êµ¬
![alt text](images/on-chain-distribution.png)

*ì˜¨ì²´ì¸ í”„ë¡œì„¸ìŠ¤ ì„¸ë¶€ ì‚¬í•­: RevenueEngineì´ Revenue Safeë¥¼ ì½ê³ , ëª«ì„ ê³„ì‚°í•˜ê³ , CPIë¥¼ í†µí•´ Reward Poolê³¼ Treasury PDAë¡œ ìê¸ˆì„ ì „ì†¡í•˜ê³ , EngineState Accountë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì‚¬ìš©ìê°€ staking_programì„ í†µí•´ ë³´ìƒì„ ì²­êµ¬í•˜ëŠ” ê³¼ì •ì„ ë³´ì—¬ì£¼ë©°, ì´ ê³¼ì •ì—ì„œ EngineState Accountë¥¼ ì½ê³ , ë³´ìƒì„ ê³„ì‚°í•˜ê³ , Reward Pool PDAì—ì„œ CPI ì „ì†¡ì„ ì‹œì‘í•©ë‹ˆë‹¤.*

### D. í™•ì¥ ì‹œë‚˜ë¦¬ì˜¤

RevenueEngineì„ ì¤‘ì‹¬ìœ¼ë¡œ í•˜ëŠ” ì´ Hub-and-Spoke ëª¨ë¸ì€ í•µì‹¬ ë¶„ë°° ë©”ì»¤ë‹ˆì¦˜ì˜ ë¬´ê²°ì„±ì´ë‚˜ íˆ¬ëª…ì„±(ìµœì¢… ë¶„ë°° ë‹¨ê³„ì˜ ê²½ìš°)ì„ í›¼ì†í•˜ì§€ ì•Šê³  ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ëª…í™•í•˜ê³  ê°•ë ¥í•œ ê¸°ë°˜ì„ ì œê³µí•©ë‹ˆë‹¤.

#### ê¸°ìˆ  ì—°ê²° ì§€ì :
- **ìˆ˜ìµ ìœ ì… ëª¨ë“ˆ** (ì˜ˆ: ë¼ì´ì„¼ì‹±, Live Agent íŒ, 3rd Party Agent ìˆ˜ìˆ˜ë£Œ): ì´ëŸ¬í•œ ëª¨ë“ˆì€ ë‹¤ì–‘í•œ í˜•íƒœ(USDC, SOL, $HAiO)ë¡œ ìˆ˜ìµì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ ìˆ˜ìµì€ ê¶ê·¹ì ìœ¼ë¡œ ê´€ë ¨ Agent Walletë¡œ í–¥í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ìˆ˜ìµì´ í‘œì¤€ Agent ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸(ìŠ¤ì™‘/ì†Œê°/Revenue Safeë¡œ ì „ì†¡)ì— ë“¤ì–´ê°€ê¸° ì „ì— ë³€í™˜/í†µí•©í•˜ê¸° ìœ„í•´ ì˜¤í”„ì²´ì¸ í”„ë¡œì„¸ìŠ¤(ë˜ëŠ” ê°„ë‹¨í•œ ê²½ìš° ì˜¨ì²´ì¸ í”„ë¡œê·¸ë¨)ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 3rd Party AgentëŠ” ì§€ì •ëœ HAiO í”Œë«í¼ ì§€ê°‘ì— í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ(ì˜ˆ: $HAiO)ë§Œ ë³´ë‚¼ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ì¤‘ì•™ Revenue Safe ë˜ëŠ” ìš´ì˜ ìê¸ˆìœ¼ë¡œ íë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ì˜ˆì‚°/ë³´ìƒ ìœ ì¶œ ëª¨ë“ˆ** (ì˜ˆ: ë°ì´í„°/RSI ë³´ìƒ, Live Agent ìƒí˜¸ì‘ìš© ë³´ìƒ, ì†Œì…œ Agent ì˜ˆì‚°): ì´ëŸ¬í•œ ê¸°ëŠ¥ì€ RevenueEngineì˜ ì¶œë ¥ìœ¼ë¡œ ìê¸ˆì´ ì¡°ë‹¬ë©ë‹ˆë‹¤. distribute_revenueê°€ ì‹¤í–‰ë˜ë©´ Î³%(DAO/ìš´ì˜) ë˜ëŠ” ê¸°íƒ€ íŠ¹ë³„íˆ í• ë‹¹ëœ ìê¸ˆì´ ì „ìš© Treasury/Pool PDAë¡œ ì „ì†¡ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ íŠ¹ì • ëª¨ë“ˆì˜ ë¡œì§(ì˜ˆ: DataRewardLogic, SocialAgentLogic)ì€ ì´ëŸ¬í•œ PDAì™€ ìƒí˜¸ì‘ìš©í•˜ì—¬ ìì²´ ê·œì¹™ì— ë”°ë¼ ìê¸ˆì„ ì§€ì¶œí•˜ë©°, ì¢…ì¢… ì˜¤í”„ì²´ì¸ ì´ë²¤íŠ¸ë‚˜ ì‚¬ìš©ì ì•¡ì…˜ì— ì˜í•´ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤. ì´ë“¤ì€ Revenue Safeì™€ ì§ì ‘ ìƒí˜¸ì‘ìš©í•˜ì§€ ì•Šê³  ê·¸ ë¶„ë°° ê²°ê³¼ë¥¼ ì†Œë¹„í•©ë‹ˆë‹¤.

- **staking_program**: ì…ë ¥(RevenueEngineì— CPIë¥¼ í†µí•´ total_staked_amount ì—…ë°ì´íŠ¸)ê³¼ ì¶œë ¥ ì†Œë¹„ì(EngineState Accountì—ì„œ reward_per_token_cumulativeë¥¼ ì½ê³  Reward Pool PDAì—ì„œ ì¸ì¶œ) ëª¨ë‘ë¡œ ì‘ìš©í•©ë‹ˆë‹¤.

### E. ë°°í¬ëœ Devnet í”„ë¡œê·¸ë¨ ë° ì£¼ìš” ê³„ì • ì •ë³´

ë‹¤ìŒ í‘œëŠ” ì´ ë°ëª¨ë¥¼ ìœ„í•´ Solana Devnetì— ë°°í¬ëœ ì£¼ìš” í”„ë¡œê·¸ë¨ ID ë° ê³„ì • ì£¼ì†Œ ëª©ë¡ì…ë‹ˆë‹¤ (`init.ts` ë§ˆì§€ë§‰ ì‹¤í–‰ ë¡œê·¸ ê¸°ì¤€). ë§í¬ë¥¼ í´ë¦­í•˜ì—¬ Solscanì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| í•­ëª©                      | ì£¼ì†Œ (Address)                                 | Solscan ë§í¬ (Devnet)                                                                                             | ì„¤ëª…                                             |
| :------------------------ | :--------------------------------------------- | :---------------------------------------------------------------------------------------------------------------- | :----------------------------------------------- |
| **Programs**              |                                                |                                                                                                                   |                                                  |
| `RevenueEngine` Program   | `AUdeJW2sdUErNTqyRvSYcYZJE72yURxLxQ9GeEVayLqq` | [Link](https://solscan.io/account/AUdeJW2sdUErNTqyRvSYcYZJE72yURxLxQ9GeEVayLqq?cluster=devnet#splTransfers)   | í•µì‹¬ ì˜¨ì²´ì¸ ë¶„ë°° ë¡œì§.                           |
| `staking_program`         | `DNEYpF5jMNjpxAPNYQhPkpuaxWGudBTvyrmKDkNQdZMP` | [Link](https://solscan.io/account/DNEYpF5jMNjpxAPNYQhPkpuaxWGudBTvyrmKDkNQdZMP?cluster=devnet#splTransfers)   | NFT ìŠ¤í…Œì´í‚¹ ë° ë³´ìƒ ì²­êµ¬ ê´€ë¦¬.                  |
| `mock_swap_program`       | `G9gP6qjaZcAyKaCzszcvABkd5UUorfnFe9PjnRkm7qKS` | [Link](https://solscan.io/account/G9gP6qjaZcAyKaCzszcvABkd5UUorfnFe9PjnRkm7qKS?cluster=devnet#splTransfers)   | USDC/$HAiO/ATH ê°„í¸ ìŠ¤ì™‘ ì‹œë®¬ë ˆì´í„°.           |
| **Mints**                 |                                                |                                                                                                                   |                                                  |
| MockUSDC Mint             | `8im1vXoAGdu6pmhhEUX9nJM3VVJMjs78e8NXZ96TXBhd` | [Link](https://solscan.io/account/8im1vXoAGdu6pmhhEUX9nJM3VVJMjs78e8NXZ96TXBhd?cluster=devnet#splTransfers)   | Mock USDC í† í° ë¯¼íŠ¸ ì£¼ì†Œ.                       |
| Mock$HAiO Mint            | `3FJMrspw8QCyG9ZwZ4e1u9agwCn6epYGkuKhna6JPU6B` | [Link](https://solscan.io/account/3FJMrspw8QCyG9ZwZ4e1u9agwCn6epYGkuKhna6JPU6B?cluster=devnet#splTransfers)   | Mock $HAiO í† í° ë¯¼íŠ¸ ì£¼ì†Œ.                      |
| MockATH Mint              | `51nkSennLj28qLAyi4G53SRWqLVeatPS6Qt4F1KJSqWw` | [Link](https://solscan.io/account/51nkSennLj28qLAyi4G53SRWqLVeatPS6Qt4F1KJSqWw?cluster=devnet#splTransfers)   | Mock ATH í† í° ë¯¼íŠ¸ ì£¼ì†Œ.                        |
| Demo `Agent NFT` Mint     | `EeAoVVLFP6Anko1HXzZbNtRPDNUsuy2vA2uL8b5mitzw` | [Link](https://solscan.io/account/EeAoVVLFP6Anko1HXzZbNtRPDNUsuy2vA2uL8b5mitzw?cluster=devnet#splTransfers)   | ë°ëª¨ Agent NFT ë¯¼íŠ¸ ì£¼ì†Œ.                       |
| **Key Accounts & PDAs** |                                                |                                                                                                                   |                                                  |
| `EngineState Account` PDA | `5sys4KfG88uWsBC9QyTiTYjjSZNKMUeN68hRGYYfDd3E` | [Link](https://solscan.io/account/5sys4KfG88uWsBC9QyTiTYjjSZNKMUeN68hRGYYfDd3E?cluster=devnet#splTransfers)   | RevenueEngineì˜ ê¸€ë¡œë²Œ ìƒíƒœ ì €ì¥.                  |
| `Revenue Safe` ATA        | `BM74qUpQ9kEovDLabQYZHtEhm4vjZHbqLNfeLb58FuNj` | [Link](https://solscan.io/account/BM74qUpQ9kEovDLabQYZHtEhm4vjZHbqLNfeLb58FuNj?cluster=devnet#splTransfers)   | ë¶„ë°° ëŒ€ê¸° ì¤‘ì¸ ìˆœìˆ˜ $HAiO ë³´ê´€.                 |
| `Reward Pool PDA` ATA     | `J6AvGuo591hfbjdEbTefrZtRkEGKfb8peZeMarTr8yLi` | [Link](https://solscan.io/account/J6AvGuo591hfbjdEbTefrZtRkEGKfb8peZeMarTr8yLi?cluster=devnet#splTransfers)   | ìŠ¤í…Œì´ì»¤ ë³´ìƒìš© $HAiO ë³´ê´€.                     |
| `DAO Treasury` ATA        | `4r6EG2At59dQWAYUAA1UFEM5NA5TSei1bkCNSxDcmoqn` | [Link](https://solscan.io/account/4r6EG2At59dQWAYUAA1UFEM5NA5TSei1bkCNSxDcmoqn?cluster=devnet#splTransfers)   | ë¶„ë°°ëœ DAO ì˜ˆì‚°($HAiO) ë³´ê´€.                 |
| `Developer Treasury` ATA  | `C4XsLAs4d9v4PVp5jTmcjH8uLQToDSdUa6wuMom5xrHr` | [Link](https://solscan.io/account/C4XsLAs4d9v4PVp5jTmcjH8uLQToDSdUa6wuMom5xrHr?cluster=devnet#splTransfers)   | ë¶„ë°°ëœ ê°œë°œì ì¸ì„¼í‹°ë¸Œ($HAiO) ë³´ê´€.           |
| `Agent Wallet`            | `BNFAmQmu1PLGq2KUnZzrewhYTGUyeoVU1RCgpTgDyFYT` | [Link](https://solscan.io/account/BNFAmQmu1PLGq2KUnZzrewhYTGUyeoVU1RCgpTgDyFYT?cluster=devnet#splTransfers)   | ì˜¤í”„ì²´ì¸ Agentì˜ ìš´ì˜ ì§€ê°‘.                     |
| Mock Aethir Wallet        | `9xnuthx47YVPyYHCxs4oQRu8hHa67DJfotFsx7T5g6PR` | [Link](https://solscan.io/account/9xnuthx47YVPyYHCxs4oQRu8hHa67DJfotFsx7T5g6PR?cluster=devnet#splTransfers)   | ì‹œë®¬ë ˆì´ì…˜ëœ ATH ë¹„ìš© ì§€ë¶ˆ ëŒ€ìƒ ì§€ê°‘.           |

*(ì°¸ê³ : Solscanì˜ ì”ì•¡ì€ ë§ˆì§€ë§‰ ìƒí˜¸ì‘ìš© í›„ì˜ ìƒíƒœë¥¼ ë°˜ì˜í•©ë‹ˆë‹¤.)*